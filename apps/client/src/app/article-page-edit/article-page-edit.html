<main class="h-screen flex flex-col bg-white">
  <!-- Header -->
  <form [formGroup]="form" ngxsForm="articlePageEdit.pageForm" class="flex-shrink-0 p-4 border-b border-gray-200">
    <div class="flex items-center justify-between">
      <div class="flex-1">
        <!-- Title -->
        <div class="mb-4">
          <input
            id="title"
            appInput
            formControlName="title"
            [placeholder]="'articlePageEdit.form.titlePlaceholder' | translate"
            class="w-full"
          />
        </div>

        <!-- Description -->
        <div class="mb-4">
          <input
            id="description"
            appInput
            formControlName="description"
            [placeholder]="'articlePageEdit.form.descriptionPlaceholder' | translate"
            class="w-full"
          />
        </div>
      </div>
      <div class="ml-4">
        <button
          type="button"
          (click)="navigateToArticleEdit()"
          class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"
        >
          {{ 'articlePageEdit.articleSettings' | translate }}
        </button>
      </div>
    </div>
  </form>

  <!-- 3-Column Layout -->
  <div class="flex-1 flex min-h-0" *rxLet="pages$; let pages">
    <!-- Left: Page Sidebar -->
    <app-page-sidebar [pages]="pages$ | push" [currentPageId]="pageId$ | push" />

    <!-- Center: Markdown Editor -->
    <div class="flex-1 border-r border-gray-200 min-w-0">
      <app-markdown-editor #markdownEditor [isFormInvalid]="isFormInvalid$ | push" [isFormDirty]="isFormDirty$ | push" (save)="onSave()" />
    </div>

    <!-- Right: Preview Panel -->
    <div class="flex-1 min-w-0">
      <app-preview-panel [markdown]="content$ | push" />
    </div>
  </div>
</main>

