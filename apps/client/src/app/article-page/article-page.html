<div class="min-h-screen">
  <ng-container *rxIf="currentPage$; let page">
    <!-- Left sidebar: Page list (fixed) -->
    <app-article-page-left-sidebar
      [pages]="pages$ | push"
      [articleId]="page.articleId"
      [currentPageId]="page.id"
      [isOpen]="isSidebarOpen()"
      (closeSidebar)="closeSidebar()"
    />

    <!-- Main content area with 2-column layout -->
    <main class="min-w-0 pb-16 lg:ml-64">
      <div class="flex gap-8 px-4 sm:px-6 lg:px-12 py-8 lg:py-12">
        <!-- Article content (left) -->
        <app-article-page-content
          [page]="page"
          [safeHtml]="safeHtml$ | push"
          [navigation]="navigation$ | push"
          [articleId]="page.articleId"
          [toc]="toc$ | push"
          [pageId]="pageId()"
          [activeTocId]="activeTocId$ | push"
          (tocClick)="onTocClick($event)"
        />

        <!-- Table of Contents (right, sticky) -->
        <app-article-page-right-sidebar
          [toc]="toc$ | push"
          [articleId]="articleId()"
          [pageId]="pageId()"
          [activeTocId]="activeTocId$ | push"
          (tocClick)="onTocClick($event)"
        />
      </div>
    </main>
  </ng-container>
</div>
