<div class="min-h-screen">
  <!-- Main content -->
  <ng-container *rxIf="currentPage$; let page; suspense: loading">
    <div
      class="w-full min-h-screen max-w-[90rem] mx-auto lg:grid lg:grid-cols-[16rem_1fr] xl:grid-cols-[16rem_1fr_14rem]"
    >
      <!-- Left sidebar: Page list -->
      <app-article-page-left-sidebar
        [pages]="pages$ | push"
        [articleId]="articleId()"
        [currentPageId]="pageId()"
        [isOpen]="isSidebarOpen()"
        (closeSidebar)="closeSidebar()"
      />

      <!-- Main content -->
      <app-article-page-content
        [page]="page"
        [safeHtml]="safeHtml$ | push"
        [navigation]="navigation$ | push"
        [articleId]="articleId()"
      />

      <!-- Right sidebar: Table of Contents -->
      <app-article-page-right-sidebar [toc]="toc$ | push" [articleId]="articleId()" [pageId]="pageId()" />
    </div>
  </ng-container>

  <ng-template #loading>
    <div class="w-full min-h-screen flex items-center justify-center">
      <p class="text-base md:text-lg text-gray-600">読み込み中...</p>
    </div>
  </ng-template>
</div>
