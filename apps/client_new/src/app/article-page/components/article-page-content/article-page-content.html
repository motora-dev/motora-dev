@if (page(); as currentPage) {
<main class="min-w-0 pb-16">
  <article class="w-full max-w-4xl mx-auto px-4 sm:px-6 lg:px-12 py-8 lg:py-12">
    <h1 class="text-3xl md:text-4xl font-bold mb-6 md:mb-8 text-gray-900">{{ currentPage.title }}</h1>
    <div
      class="w-full prose prose-base max-w-none break-words"
      [innerHTML]="safeHtml()"
      [unpatch]="['click']"
      (click)="onContentClick($event)"
    ></div>
  </article>

  <!-- Page navigation -->
  @if (navigation(); as nav) {
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-12 py-6">
    <div class="flex justify-between items-center gap-4">
      @if (nav.prev) {
      <a
        [routerLink]="['/article', articleId(), nav.prev.id]"
        class="flex-1 max-w-[45%] p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors text-left"
      >
        <div class="text-sm text-gray-500 mb-1">← 前へ</div>
        <div class="text-sm font-medium text-gray-900 truncate">{{ nav.prev.title }}</div>
      </a>
      } @else {
      <div class="flex-1"></div>
      } @if (nav.next) {
      <a
        [routerLink]="['/article', articleId(), nav.next.id]"
        class="flex-1 max-w-[45%] p-4 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors text-right"
      >
        <div class="text-sm text-gray-500 mb-1">次へ →</div>
        <div class="text-sm font-medium text-gray-900 truncate">{{ nav.next.title }}</div>
      </a>
      } @else {
      <div class="flex-1"></div>
      }
    </div>
  </div>
  }
</main>
}
